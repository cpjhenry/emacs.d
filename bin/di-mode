#!/bin/bash
# daily-info-mode back-end for Emacs
# 2024-01-10

cond_source() { [ -f $1 ] && . $1; }
cond_source $HOME/.bash_routines

gcalcli --lineart=ascii --nocolor --calendar=cpjh --calendar=Holidays calw
echo
di
echo
icer -b |sed '$s/$/\n/'
calt |sed '$s/$/\n/'

TMW=$(date -d tomorrow +%Y%m%d)
TMW=$((gcalt %$TMW --suppress-date-part; ind -d+1day -Po; calendar -W0 -t$TMW |cut -f2) |sed 's/^/- /')
[ "$TMW" ] && echo -e "Tomorrow:\n$TMW"

ruled 32
alert -f
# echo
# ruled 32
# date +%B
# echo
# calm |sed "s/ $(date +%b)//"
